import org.apache.tools.ant.filters.*

task copyFiles(type: Copy) {
    from 'src/sample'
    into buildDir

    filter { line ->
        if (line.contains('Gradle')) {
            line.replace('Gradle', 'GRADLE')
        } else {
            line
        }
    }

    filter(ReplaceTokens, [version: gradle.gradleVersion])

    expand gr8Tool: 'Gradle'

//    rename 'file.txt', 'file.new'
//    rename '(.*).txt', '$1.new'
    rename { filename -> 'newfile.txt' }
}